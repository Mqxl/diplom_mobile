{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { getFocusedRouteNameFromRoute } from '@react-navigation/native';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport uuid from \"react-native-uuid\";\nimport { Camera, CameraType } from \"expo-camera\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as MediaLibrary from \"expo-media-library\";\nimport * as Location from 'expo-location';\nimport { FontAwesome, Feather, AntDesign, Ionicons, MaterialIcons } from '@expo/vector-icons';\nimport { storage, db } from \"../../firebase/config\";\nimport { doc, setDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { addPost, getAllPosts } from \"../../redux/posts/postsOperations\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CreatePostsScreen = function CreatePostsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    camera = _useState2[0],\n    setCamera = _useState2[1];\n  var _useState3 = useState(CameraType.back),\n    _useState4 = _slicedToArray(_useState3, 2),\n    type = _useState4[0],\n    setType = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isOpenCamera = _useState6[0],\n    setIsOpenCamera = _useState6[1];\n  var _Camera$useCameraPerm = Camera.useCameraPermissions(),\n    _Camera$useCameraPerm2 = _slicedToArray(_Camera$useCameraPerm, 2),\n    permission = _Camera$useCameraPerm2[0],\n    requestPermission = _Camera$useCameraPerm2[1];\n  var _useState7 = useState(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    libraryPermission = _useState8[0],\n    setLibraryPermission = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    modalVisible = _useState10[0],\n    setModalVisible = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    photo = _useState12[0],\n    setPhoto = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    title = _useState14[0],\n    setTitle = _useState14[1];\n  var _useState15 = useState(\"\"),\n    _useState16 = _slicedToArray(_useState15, 2),\n    location = _useState16[0],\n    setLocation = _useState16[1];\n  var _useState17 = useState(\"\"),\n    _useState18 = _slicedToArray(_useState17, 2),\n    inputLocation = _useState18[0],\n    setInputLocation = _useState18[1];\n  var _useState19 = useState({\n      title: false,\n      place: false\n    }),\n    _useState20 = _slicedToArray(_useState19, 2),\n    isFocused = _useState20[0],\n    setIsFocused = _useState20[1];\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    userId = _useSelector.userId,\n    nickname = _useSelector.nickname,\n    userPhoto = _useSelector.userPhoto;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var mediaLibraryPermission = yield MediaLibrary.requestPermissionsAsync();\n      setLibraryPermission(mediaLibraryPermission.status === \"granted\");\n    })();\n  }, []);\n  var takePhotoFromLibrary = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1\n      });\n      if (!result.canceled) {\n        setPhoto(result.assets[0].uri);\n      }\n      setPhoto(result.assets[0].uri);\n      setIsOpenCamera(false);\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n      var latitude = location == null ? void 0 : location.coords.latitude;\n      var longitude = location == null ? void 0 : location.coords.longitude;\n      var geoCode = yield Location.reverseGeocodeAsync({\n        latitude: latitude,\n        longitude: longitude\n      });\n      var fullLocation = `${geoCode[0].city}, ${geoCode[0].country}`;\n      var shortLocation = `${geoCode[0].country}`;\n      if (fullLocation.length > 15) {\n        return setInputLocation(shortLocation);\n      }\n      return setInputLocation(fullLocation);\n    });\n    return function takePhotoFromLibrary() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var takePhoto = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var options = {\n        quality: 1,\n        base64: true,\n        exif: false\n      };\n      var _yield$camera$takePic = yield camera.takePictureAsync(options),\n        uri = _yield$camera$takePic.uri;\n      setIsOpenCamera(function (prev) {\n        return !prev;\n      });\n      setPhoto(uri);\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n      var latitude = location == null ? void 0 : location.coords.latitude;\n      var longitude = location == null ? void 0 : location.coords.longitude;\n      var geoCode = yield Location.reverseGeocodeAsync({\n        latitude: latitude,\n        longitude: longitude\n      });\n      var fullLocation = `${geoCode[0].city}, ${geoCode[0].country}`;\n      var shortLocation = `${geoCode[0].country}`;\n      if (fullLocation.length > 15) {\n        return setInputLocation(shortLocation);\n      }\n      return setInputLocation(fullLocation);\n    });\n    return function takePhoto() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var uploadPhotoToServer = function () {\n    var _ref5 = _asyncToGenerator(function* (photo) {\n      if (photo === null) return;\n      var id = uuid.v4();\n      var response = yield fetch(photo);\n      var file = yield response.blob();\n      var photoRef = ref(storage, `images/${id}`);\n      yield uploadBytes(photoRef, file).then(function () {\n        console.log('Photo uploaded');\n      });\n      var link = yield getDownloadURL(ref(storage, `images/${id}`));\n      return link;\n    });\n    return function uploadPhotoToServer(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var getTabBarVisibility = function getTabBarVisibility(route) {\n    var routeName = getFocusedRouteNameFromRoute(route);\n    var hideOnScreens = [SCREENS.REVIEW_ORDER, SCREENS.ORDER_PAYMENT];\n    return hideOnScreens.indexOf(routeName) <= -1;\n  };\n  var _onFocus = function onFocus(inputName) {\n    setIsFocused(_defineProperty({}, inputName, true));\n  };\n  var _onBlur = function onBlur(inputName) {\n    setIsFocused(_defineProperty({}, inputName, false));\n  };\n  useEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft() {\n        return _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Posts\");\n          },\n          style: {\n            marginLeft: 16\n          },\n          children: _jsx(AntDesign, {\n            name: \"arrowleft\",\n            size: 24,\n            color: \"#212121\"\n          })\n        });\n      }\n    });\n  }, [navigation]);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        return;\n      }\n    })();\n  }, []);\n  var handleSubmit = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      if (photo.length !== 0 && title.length !== 0 && inputLocation.length !== 0) {\n        var _address$, _address$2;\n        var address = yield Location.geocodeAsync(inputLocation);\n        var latitude = (_address$ = address[0]) == null ? void 0 : _address$.latitude;\n        var longitude = (_address$2 = address[0]) == null ? void 0 : _address$2.longitude;\n        var id = uuid.v4();\n        var photoLink = yield uploadPhotoToServer(photo);\n        var date = new Date().getTime();\n        var coords = latitude && longitude ? {\n          latitude: latitude,\n          longitude: longitude\n        } : \"noCoords\";\n        var newPost = {\n          createdAt: date,\n          photo: photoLink,\n          title: title,\n          likes: [],\n          comments: 0,\n          photoLocation: coords,\n          inputLocation: inputLocation,\n          id: id,\n          userId: userId,\n          userPhoto: userPhoto,\n          nickname: nickname\n        };\n        yield setDoc(doc(db, \"posts\", `${id}`), newPost);\n        dispatch(addPost(newPost));\n        dispatch(getAllPosts());\n        handleReset();\n        navigation.navigate(\"Home\");\n      }\n      return;\n    });\n    return function handleSubmit() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var openCamera = function openCamera() {\n    setIsOpenCamera(function (prev) {\n      return !prev;\n    });\n  };\n  var handleReset = function handleReset() {\n    setPhoto(null);\n    setLocation(\"\");\n    setTitle(\"\");\n    setInputLocation(\"\");\n  };\n  var toggleCameraType = function toggleCameraType() {\n    setType(function (current) {\n      return current === CameraType.back ? CameraType.front : CameraType.back;\n    });\n  };\n  var CameraPermission = function CameraPermission() {\n    return Alert.alert('\"Social App\" Would Like to Access the Camera', 'We need your permission to show the camera', [{\n      text: 'Cancel',\n      onPress: function onPress() {\n        return console.log('Cancel Pressed');\n      },\n      style: 'cancel'\n    }, {\n      text: 'OK',\n      onPress: function onPress() {\n        return console.log('OK Pressed');\n      }\n    }]);\n  };\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    children: _jsx(KeyboardAvoidingView, {\n      behavior: Platform.OS == \"ios\" ? \"padding\" : \"height\",\n      height: height,\n      width: width,\n      style: styles.container,\n      keyboardVerticalOffset: -150,\n      children: _jsx(View, {\n        style: styles.container,\n        children: _jsxs(View, {\n          style: styles.innerBox,\n          height: 60,\n          children: [isOpenCamera === false ? _jsx(ImageBackground, {\n            style: !photo ? [styles.postImg] : _objectSpread(_objectSpread({}, styles.takePhotoContainer), {}, {\n              borderRadius: 8\n            }),\n            source: {\n              uri: photo\n            },\n            children: _jsx(TouchableOpacity, {\n              style: photo ? _objectSpread(_objectSpread({}, styles.postImgAdd), {}, {\n                backgroundColor: '#FFFFFF4D'\n              }) : [styles.postImgAdd],\n              onPress: openCamera,\n              children: _jsx(FontAwesome, {\n                name: \"camera\",\n                size: 24,\n                color: photo ? \"#FFFFFF\" : \"#BDBDBD\"\n              })\n            })\n          }) : null, isOpenCamera === true && _jsxs(Camera, {\n            style: styles.camera,\n            ref: setCamera,\n            type: type,\n            children: [_jsx(TouchableOpacity, {\n              onPress: toggleCameraType,\n              style: styles.cameraType,\n              children: _jsx(Ionicons, {\n                name: \"ios-camera-reverse-outline\",\n                size: 20,\n                color: \"#FFFFFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: takePhotoFromLibrary,\n              style: styles.libraryPhoto,\n              children: _jsx(MaterialIcons, {\n                name: \"photo-library\",\n                size: 24,\n                color: \"#FFFFFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: takePhoto,\n              style: styles.snapContainer,\n              children: _jsx(FontAwesome, {\n                name: \"camera\",\n                size: 24,\n                color: \"#FFFFFF\"\n              })\n            })]\n          }), _jsx(Text, {\n            style: styles.postImgInf,\n            children: photo ? 'Edit photo' : 'Upload photo'\n          }), _jsxs(View, {\n            style: styles.postForm,\n            children: [_jsx(TextInput, {\n              style: isFocused.title ? _objectSpread(_objectSpread({}, styles.input), {}, {\n                borderBottomColor: '#FF6C00'\n              }) : _objectSpread(_objectSpread({}, styles.input), {}, {\n                fontFamily: \"Roboto-Medium\"\n              }),\n              placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442\",\n              placeholderTextColor: \"#BDBDBD\",\n              inputmode: 'text',\n              value: title,\n              onChangeText: function onChangeText(text) {\n                return setTitle(text);\n              },\n              onFocus: function onFocus() {\n                return _onFocus('title');\n              },\n              onBlur: function onBlur() {\n                return _onBlur('title');\n              }\n            }), _jsxs(View, {\n              style: {\n                position: 'relative'\n              },\n              children: [_jsx(TextInput, {\n                style: isFocused.place ? _objectSpread(_objectSpread({}, styles.input), {}, {\n                  borderBottomColor: '#FF6C00',\n                  marginTop: 32,\n                  paddingLeft: 24\n                }) : _objectSpread(_objectSpread({}, styles.input), {}, {\n                  marginTop: 32,\n                  paddingLeft: 24\n                }),\n                placeholder: \"\\u041B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044F\",\n                placeholderTextColor: \"#BDBDBD\",\n                textContentType: \"location\",\n                value: inputLocation,\n                onChangeText: function onChangeText(text) {\n                  return setInputLocation(text);\n                },\n                onFocus: function onFocus() {\n                  return _onFocus('place');\n                },\n                onBlur: function onBlur() {\n                  return _onBlur('place');\n                }\n              }), _jsx(View, {\n                style: styles.inputIcon,\n                children: _jsx(Feather, {\n                  name: \"map-pin\",\n                  size: 16,\n                  color: \"#BDBDBD\",\n                  style: isFocused.place && {\n                    color: '#FF6C00'\n                  }\n                })\n              })]\n            }), photo !== null && title.length >= 1 || location.length >= 1 && inputLocation.length >= 1 ? _jsx(TouchableOpacity, {\n              style: _objectSpread(_objectSpread({}, styles.btn), {}, {\n                backgroundColor: '#FF6C00'\n              }),\n              onPress: function onPress() {\n                return handleSubmit();\n              },\n              children: _jsx(Text, {\n                style: _objectSpread(_objectSpread({}, styles.btnText), {}, {\n                  color: \"#ffffff\"\n                }),\n                children: \"\\u041F\\u043E\\u0441\\u0442\"\n              })\n            }) : _jsx(TouchableOpacity, {\n              style: styles.btn,\n              onPress: function onPress() {\n                return handleSubmit();\n              },\n              children: _jsx(Text, {\n                style: styles.btnText,\n                children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n              })\n            }), photo !== null || title.length >= 1 || location.length >= 1 || inputLocation.length >= 1 ? _jsx(TouchableOpacity, {\n              style: _objectSpread(_objectSpread({}, styles.btnReset), {}, {\n                backgroundColor: '#FF6C00'\n              }),\n              onPress: function onPress() {\n                return handleReset();\n              },\n              children: _jsx(Feather, {\n                name: \"trash-2\",\n                size: 24,\n                color: \"#ffffff\",\n                style: {\n                  marginVertical: 6\n                }\n              })\n            }) : _jsx(TouchableOpacity, {\n              style: styles.btnReset,\n              onPress: function onPress() {\n                return handleReset();\n              },\n              children: _jsx(Feather, {\n                name: \"trash-2\",\n                size: 24,\n                color: \"#BDBDBD\",\n                style: {\n                  marginVertical: 6\n                }\n              })\n            })]\n          })]\n        })\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFFFFF'\n  },\n  innerBox: {\n    marginHorizontal: 16,\n    marginVertical: 32,\n    backgroundColor: '#FFFFFF'\n  },\n  postImg: {\n    width: \"100%\",\n    height: 240,\n    backgroundColor: \"#F6F6F6\",\n    borderRadius: 8,\n    borderColor: \"#E8E8E8\",\n    borderWidth: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  postImgAdd: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: \"#FFFFFF\",\n    width: 60,\n    height: 60,\n    borderRadius: 50\n  },\n  camera: {\n    width: \"100%\",\n    height: 240,\n    borderRadius: 8,\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  },\n  takePhotoContainer: {\n    width: \"100%\",\n    height: 240,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 8,\n    borderColor: '#ffffff',\n    borderWidth: 1\n  },\n  snapContainer: {\n    backgroundColor: '#FFFFFF4D',\n    width: 55,\n    height: 85,\n    borderRadius: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginBottom: 15\n  },\n  cameraType: {\n    left: '45%',\n    bottom: '50%'\n  },\n  libraryPhoto: {\n    right: '42%',\n    top: '17%'\n  },\n  postImgInf: {\n    marginTop: 14,\n    fontFamily: \"Roboto-Regular\",\n    fontSize: 16,\n    lineHeight: 19,\n    color: \"#BDBDBD\"\n  },\n  postForm: {\n    marginTop: 52\n  },\n  input: {\n    paddingBottom: 15,\n    borderBottomColor: '#E8E8E8',\n    borderBottomWidth: 1,\n    fontFamily: \"Roboto-Regular\",\n    color: \"#212121\",\n    fontSize: 16,\n    lineHeight: 19\n  },\n  inputIcon: {\n    position: 'absolute',\n    marginTop: 32\n  },\n  btn: {\n    marginTop: 38,\n    backgroundColor: '#F6F6F6',\n    borderRadius: 100\n  },\n  btnText: {\n    fontFamily: \"Roboto-Regular\",\n    color: \"#BDBDBD\",\n    fontSize: 16,\n    lineHeight: 19,\n    textAlign: 'center',\n    padding: 16\n  },\n  btnReset: {\n    width: 70,\n    height: 40,\n    borderRadius: 20,\n    alignSelf: 'center',\n    alignItems: 'center',\n    top: 180,\n    backgroundColor: '#F6F6F6'\n  }\n});\nexport default CreatePostsScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","Dimensions","TextInput","KeyboardAvoidingView","TouchableWithoutFeedback","Keyboard","Button","TouchableOpacity","ImageBackground","Alert","getFocusedRouteNameFromRoute","useDispatch","useSelector","uuid","Camera","CameraType","ImagePicker","MediaLibrary","Location","FontAwesome","Feather","AntDesign","Ionicons","MaterialIcons","storage","db","doc","setDoc","getDownloadURL","ref","uploadBytes","addPost","getAllPosts","jsx","_jsx","jsxs","_jsxs","CreatePostsScreen","_ref","navigation","_Dimensions$get","get","height","width","_useState","_useState2","_slicedToArray","camera","setCamera","_useState3","back","_useState4","type","setType","_useState5","_useState6","isOpenCamera","setIsOpenCamera","_Camera$useCameraPerm","useCameraPermissions","_Camera$useCameraPerm2","permission","requestPermission","_useState7","_useState8","libraryPermission","setLibraryPermission","_useState9","_useState10","modalVisible","setModalVisible","_useState11","_useState12","photo","setPhoto","_useState13","_useState14","title","setTitle","_useState15","_useState16","location","setLocation","_useState17","_useState18","inputLocation","setInputLocation","_useState19","place","_useState20","isFocused","setIsFocused","_useSelector","state","auth","userId","nickname","userPhoto","dispatch","_asyncToGenerator","mediaLibraryPermission","requestPermissionsAsync","status","takePhotoFromLibrary","_ref3","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","canceled","assets","uri","getCurrentPositionAsync","latitude","coords","longitude","geoCode","reverseGeocodeAsync","fullLocation","city","country","shortLocation","length","apply","arguments","takePhoto","_ref4","options","base64","exif","_yield$camera$takePic","takePictureAsync","prev","uploadPhotoToServer","_ref5","id","v4","response","fetch","file","blob","photoRef","then","console","log","link","_x","getTabBarVisibility","route","routeName","hideOnScreens","SCREENS","REVIEW_ORDER","ORDER_PAYMENT","indexOf","onFocus","inputName","_defineProperty","onBlur","setOptions","headerLeft","onPress","navigate","style","marginLeft","children","name","size","color","_yield$Location$reque","requestForegroundPermissionsAsync","setErrorMsg","handleSubmit","_ref7","_address$","_address$2","address","geocodeAsync","photoLink","date","Date","getTime","newPost","createdAt","likes","comments","photoLocation","handleReset","openCamera","toggleCameraType","current","front","CameraPermission","alert","text","dismiss","behavior","Platform","OS","styles","container","keyboardVerticalOffset","innerBox","postImg","_objectSpread","takePhotoContainer","borderRadius","source","postImgAdd","backgroundColor","cameraType","libraryPhoto","snapContainer","postImgInf","postForm","input","borderBottomColor","fontFamily","placeholder","placeholderTextColor","inputmode","value","onChangeText","position","marginTop","paddingLeft","textContentType","inputIcon","btn","btnText","btnReset","marginVertical","create","flex","marginHorizontal","borderColor","borderWidth","justifyContent","alignItems","marginBottom","left","bottom","right","top","fontSize","lineHeight","paddingBottom","borderBottomWidth","textAlign","padding","alignSelf"],"sources":["C:/Users/Meruem/Desktop/diplom_project/screens/main/CreatePostsScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport { View, Text, StyleSheet, Dimensions, TextInput, KeyboardAvoidingView, TouchableWithoutFeedback, Keyboard, Button, TouchableOpacity, ImageBackground, Alert } from \"react-native\";\r\nimport { getFocusedRouteNameFromRoute } from '@react-navigation/native';\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport uuid from \"react-native-uuid\";\r\n\r\nimport { Camera, CameraType } from \"expo-camera\";\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport * as MediaLibrary from \"expo-media-library\";\r\n\r\nimport * as Location from 'expo-location';\r\n\r\nimport { FontAwesome, Feather, AntDesign, Ionicons, MaterialIcons } from '@expo/vector-icons';\r\n\r\nimport { storage, db } from \"../../firebase/config\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\r\n\r\nimport { addPost, getAllPosts } from \"../../redux/posts/postsOperations\";\r\n\r\nconst CreatePostsScreen = ({ navigation }) =>\r\n{\r\n    const { height, width } = Dimensions.get('window');\r\n\r\n    const [camera, setCamera] = useState(null);\r\n    const [type, setType] = useState(CameraType.back);\r\n    const [isOpenCamera, setIsOpenCamera] = useState(false);\r\n    const [permission, requestPermission] = Camera.useCameraPermissions();\r\n    const [libraryPermission, setLibraryPermission] = useState();\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [photo, setPhoto] = useState(null);\r\n\r\n    const [title, setTitle] = useState('');\r\n\r\n    const [location, setLocation] = useState(\"\");\r\n    const [inputLocation, setInputLocation] = useState(\"\");\r\n\r\n    const [isFocused, setIsFocused] = useState({\r\n        title: false,\r\n        place: false,\r\n    });\r\n\r\n    const { userId, nickname, userPhoto } = useSelector((state) => state.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n        const mediaLibraryPermission =\r\n            await MediaLibrary.requestPermissionsAsync();\r\n        setLibraryPermission(mediaLibraryPermission.status === \"granted\");\r\n        })();\r\n    }, []);\r\n\r\n    const takePhotoFromLibrary = async () => {\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n            allowsEditing: true,\r\n            aspect: [4, 3],\r\n            quality: 1\r\n        });\r\n        if (!result.canceled) {\r\n            setPhoto(result.assets[0].uri)\r\n        }\r\n        setPhoto(result.assets[0].uri)\r\n        setIsOpenCamera(false);\r\n        const location = await Location.getCurrentPositionAsync({});\r\n        setLocation(location);\r\n\r\n        const latitude = location?.coords.latitude;\r\n        const longitude = location?.coords.longitude;\r\n\r\n        const geoCode = await Location.reverseGeocodeAsync({\r\n            latitude,\r\n            longitude,\r\n        });\r\n\r\n        let fullLocation = `${geoCode[0].city}, ${geoCode[0].country}`;\r\n        let shortLocation = `${geoCode[0].country}`;\r\n        if (fullLocation.length > 15) {\r\n            return setInputLocation(shortLocation)\r\n        } return setInputLocation(fullLocation);\r\n    }\r\n\r\n    const takePhoto = async () =>\r\n    {\r\n        let options = {\r\n            quality: 1,\r\n            base64: true,\r\n            exif: false,\r\n    };\r\n        const { uri } = await camera.takePictureAsync(options);\r\n        setIsOpenCamera((prev) => !prev);\r\n        setPhoto(uri);\r\n        const location = await Location.getCurrentPositionAsync({});\r\n        setLocation(location);\r\n\r\n        const latitude = location?.coords.latitude;\r\n        const longitude = location?.coords.longitude;\r\n\r\n        const geoCode = await Location.reverseGeocodeAsync({\r\n            latitude,\r\n            longitude,\r\n        });\r\n\r\n        let fullLocation = `${geoCode[0].city}, ${geoCode[0].country}`;\r\n        let shortLocation = `${geoCode[0].country}`;\r\n        if (fullLocation.length > 15) {\r\n            return setInputLocation(shortLocation)\r\n        } return setInputLocation(fullLocation);\r\n    };\r\n\r\n    const uploadPhotoToServer = async (photo) =>\r\n    {\r\n        if (photo === null) return;\r\n        const id = uuid.v4();\r\n        const response = await fetch(photo);\r\n        const file = await response.blob();\r\n        const photoRef = ref(storage, `images/${id}`);\r\n        await uploadBytes(photoRef, file).then(() =>\r\n        {\r\n            console.log('Photo uploaded');\r\n        })\r\n        const link = await getDownloadURL(ref(storage, `images/${id}`));\r\n        return link;\r\n    };\r\n\r\n    const getTabBarVisibility = (route) => {\r\n        const routeName = getFocusedRouteNameFromRoute(route);\r\n        const hideOnScreens = [SCREENS.REVIEW_ORDER, SCREENS.ORDER_PAYMENT];\r\n        return hideOnScreens.indexOf(routeName) <= -1;\r\n    };\r\n\r\n    const onFocus = (inputName) =>\r\n    {\r\n        setIsFocused({\r\n            [inputName]: true\r\n        })\r\n    }\r\n\r\n    const onBlur = (inputName) =>\r\n    {\r\n        setIsFocused({\r\n            [inputName]: false\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        navigation.setOptions({\r\n            headerLeft: () => (\r\n                <TouchableOpacity onPress={() => navigation.navigate(\"Posts\")} style={{marginLeft: 16}}>\r\n                    <AntDesign name=\"arrowleft\" size={24} color=\"#212121\" />\r\n                </TouchableOpacity>\r\n            ),\r\n        });\r\n    }, [navigation]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            let { status } = await Location.requestForegroundPermissionsAsync();\r\n            if (status !== 'granted') {\r\n                setErrorMsg('Permission to access location was denied');\r\n                return;\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    const handleSubmit = async () => {\r\n    if (\r\n        photo.length !== 0 &&\r\n        title.length !== 0 &&\r\n        inputLocation.length !== 0\r\n    ) {\r\n        const address = await Location.geocodeAsync(inputLocation);\r\n        const latitude = address[0]?.latitude;\r\n        const longitude = address[0]?.longitude;\r\n\r\n        const id = uuid.v4();\r\n        const photoLink = await uploadPhotoToServer(photo);\r\n\r\n        const date = new Date().getTime();\r\n        const coords =\r\n            latitude && longitude ? { latitude, longitude } : \"noCoords\";\r\n        const newPost = {\r\n            createdAt: date,\r\n            photo: photoLink,\r\n            title,\r\n            likes: [],\r\n            comments: 0,\r\n            photoLocation: coords,\r\n            inputLocation,\r\n            id,\r\n            userId,\r\n            userPhoto,\r\n            nickname,\r\n    };\r\n    await setDoc(doc(db, \"posts\", `${id}`), newPost);\r\n        dispatch(addPost(newPost));\r\n        dispatch(getAllPosts());\r\n        handleReset();\r\n        navigation.navigate(\"Home\");\r\n    }\r\n    return;\r\n    };\r\n\r\n    const openCamera = () => {\r\n        setIsOpenCamera((prev) => !prev);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setPhoto(null)\r\n        setLocation(\"\");\r\n        setTitle(\"\");\r\n        setInputLocation(\"\");\r\n    };\r\n\r\n    const toggleCameraType = () => {\r\n        setType(current => (current === CameraType.back ? CameraType.front : CameraType.back));\r\n    }\r\n\r\n    const CameraPermission = () =>\r\n    {\r\n        return (\r\n            Alert.alert('\"Social App\" Would Like to Access the Camera', 'We need your permission to show the camera', [\r\n        {\r\n            text: 'Cancel',\r\n            onPress: () => console.log('Cancel Pressed'),\r\n            style: 'cancel',\r\n        },\r\n        {text: 'OK', onPress: () => console.log('OK Pressed')},\r\n        ]))\r\n    }\r\n\r\n    return (\r\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\r\n        <KeyboardAvoidingView\r\n            behavior={Platform.OS == \"ios\" ? \"padding\" : \"height\"}\r\n            height={height}\r\n            width={width}\r\n            style={styles.container}\r\n            keyboardVerticalOffset={-150}\r\n        >\r\n                <View style={styles.container}>\r\n                    <View style={styles.innerBox} height={60}>\r\n                        {isOpenCamera === false ?\r\n                            <ImageBackground\r\n                        style={!photo ? [styles.postImg] : {...styles.takePhotoContainer, borderRadius: 8}}\r\n                        source={{ uri: photo }}\r\n                        >\r\n                            <TouchableOpacity style={photo ? {...styles.postImgAdd, backgroundColor: '#FFFFFF4D'} : [styles.postImgAdd]} onPress={openCamera}>\r\n                                <FontAwesome name=\"camera\" size={24} color={photo ?  \"#FFFFFF\" :\"#BDBDBD\"} />\r\n                            </TouchableOpacity>\r\n                        </ImageBackground> : null}\r\n\r\n                        {isOpenCamera === true && <Camera style={styles.camera} ref={setCamera} type={type}>\r\n                                <TouchableOpacity onPress={toggleCameraType} style={styles.cameraType} >\r\n                                <Ionicons name=\"ios-camera-reverse-outline\" size={20} color=\"#FFFFFF\" />\r\n                            </TouchableOpacity>\r\n                                <TouchableOpacity onPress={takePhotoFromLibrary} style={styles.libraryPhoto} >\r\n                                <MaterialIcons name=\"photo-library\" size={24} color=\"#FFFFFF\" />\r\n                                </TouchableOpacity>\r\n                                    <TouchableOpacity onPress={takePhoto} style={styles.snapContainer} >\r\n                                        <FontAwesome name=\"camera\" size={24} color=\"#FFFFFF\" />\r\n                                    </TouchableOpacity>\r\n                        </Camera>}\r\n                        <Text style={styles.postImgInf}>\r\n                            {photo ? 'Edit photo' : 'Upload photo' }\r\n                        </Text>\r\n                    <View style={styles.postForm}>\r\n                            <TextInput\r\n                                style={isFocused.title ? { ...styles.input, borderBottomColor: '#FF6C00'} : {...styles.input, fontFamily: \"Roboto-Medium\" }}\r\n                                placeholder=\"Текст\"\r\n                                placeholderTextColor=\"#BDBDBD\"\r\n                                inputmode={'text'}\r\n                                value={title}\r\n                                onChangeText={(text) => setTitle(text)}\r\n                                onFocus={() => onFocus('title')}\r\n                                onBlur={() => onBlur('title') }\r\n                            />\r\n                            <View style={{position: 'relative'}}>\r\n                                <TextInput\r\n                                    style={isFocused.place ? {...styles.input, borderBottomColor: '#FF6C00', marginTop: 32, paddingLeft: 24 } : { ...styles.input, marginTop: 32, paddingLeft: 24 }}\r\n                                    placeholder=\"Локация\"\r\n                                    placeholderTextColor=\"#BDBDBD\"\r\n                                    textContentType={\"location\"}\r\n                                    value={inputLocation}\r\n                                    onChangeText={(text) => setInputLocation(text)}\r\n                                    onFocus={() => onFocus('place')}\r\n                                    onBlur={() => onBlur('place')}\r\n                                />\r\n                                <View style={styles.inputIcon}>\r\n                                    <Feather name=\"map-pin\" size={16} color=\"#BDBDBD\" style={isFocused.place &&{color:'#FF6C00'}} />\r\n                                </View>\r\n                            </View>\r\n\r\n                            {photo !== null && title.length >= 1 || location.length >= 1 && inputLocation.length >= 1 ? <TouchableOpacity\r\n                                style={{...styles.btn, backgroundColor: '#FF6C00'}}\r\n                                onPress={() => handleSubmit()}\r\n                            >\r\n                                <Text style={{...styles.btnText, color: \"#ffffff\"}}>Пост</Text>\r\n                            </TouchableOpacity> :                             <TouchableOpacity\r\n                                style={styles.btn}\r\n                                onPress={() => handleSubmit()}\r\n                            >\r\n                                <Text style={styles.btnText}>Готово</Text>\r\n                            </TouchableOpacity>}\r\n\r\n                            {photo !== null || title.length >= 1 || location.length >= 1 || inputLocation.length >= 1 ?\r\n                                <TouchableOpacity\r\n                                    style={{ ...styles.btnReset, backgroundColor: '#FF6C00' }}\r\n                                    onPress={() => handleReset()}\r\n                                >\r\n                                    <Feather name=\"trash-2\" size={24} color=\"#ffffff\" style={{ marginVertical: 6 }} />\r\n                                </TouchableOpacity> :\r\n                                <TouchableOpacity\r\n                                    style={styles.btnReset}\r\n                                    onPress={() => handleReset()}\r\n                                >\r\n                                    <Feather name=\"trash-2\" size={24} color=\"#BDBDBD\" style={{ marginVertical: 6 }} />\r\n                                </TouchableOpacity>\r\n                            }\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </KeyboardAvoidingView>\r\n        </TouchableWithoutFeedback>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#FFFFFF',\r\n    },\r\n    innerBox: {\r\n        marginHorizontal: 16,\r\n        marginVertical: 32,\r\n        backgroundColor: '#FFFFFF',\r\n    },\r\n    postImg: {\r\n        width: \"100%\",\r\n        height: 240,\r\n        backgroundColor: \"#F6F6F6\",\r\n        borderRadius: 8,\r\n        borderColor: \"#E8E8E8\",\r\n        borderWidth: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    postImgAdd: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: \"#FFFFFF\",\r\n        width: 60,\r\n        height: 60,\r\n        borderRadius: 50,\r\n    },\r\n    camera: {\r\n        width: \"100%\",\r\n        height: 240,\r\n        borderRadius: 8,\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n    },\r\n    takePhotoContainer: {\r\n        width: \"100%\",\r\n        height: 240,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderRadius: 8,\r\n        borderColor: '#ffffff',\r\n        borderWidth: 1,\r\n    },\r\n    snapContainer: {\r\n        backgroundColor: '#FFFFFF4D',\r\n        width: 55,\r\n        height: 85,\r\n        borderRadius: 50,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginBottom: 15,\r\n    },\r\n    cameraType: {\r\n        left: '45%',\r\n        bottom: '50%',\r\n    },\r\n    libraryPhoto: {\r\n        right: '42%',\r\n        top: '17%',\r\n    },\r\n    postImgInf: {\r\n        marginTop: 14,\r\n        fontFamily: \"Roboto-Regular\",\r\n        fontSize: 16,\r\n        lineHeight: 19,\r\n        color: \"#BDBDBD\",\r\n    },\r\n    postForm: {\r\n        marginTop: 52,\r\n    },\r\n    input: {\r\n        paddingBottom: 15,\r\n        borderBottomColor: '#E8E8E8',\r\n        borderBottomWidth: 1,\r\n        fontFamily: \"Roboto-Regular\",\r\n        color: \"#212121\",\r\n        fontSize: 16,\r\n        lineHeight: 19,\r\n    },\r\n    inputIcon: {\r\n        position: 'absolute',\r\n        marginTop: 32, \r\n    },\r\n    btn: {\r\n        marginTop: 38,\r\n        backgroundColor: '#F6F6F6',\r\n        borderRadius: 100,\r\n    },\r\n    btnText: {\r\n        fontFamily: \"Roboto-Regular\",\r\n        color: \"#BDBDBD\",\r\n        fontSize: 16,\r\n        lineHeight: 19,\r\n        textAlign: 'center',\r\n        padding: 16,\r\n    },\r\n\r\n    btnReset: {\r\n        width: 70,\r\n        height: 40,\r\n        borderRadius: 20,\r\n        alignSelf: 'center',\r\n        alignItems: 'center',\r\n        top: 180,\r\n        backgroundColor: '#F6F6F6',\r\n    },\r\n})\r\n\r\nexport default CreatePostsScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}