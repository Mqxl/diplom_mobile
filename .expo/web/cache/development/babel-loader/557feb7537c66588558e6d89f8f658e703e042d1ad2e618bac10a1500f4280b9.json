{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { getArticles } from \"../../screens/service/news\";\nimport DataItem from \"../../components/DataItem\";\nimport Modal from \"../../components/Modal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar NewsScreen = function NewsScreen() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    modalVisible = _useState6[0],\n    setModalVisible = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    modalArticleData = _useState8[0],\n    setModalArticleData = _useState8[1];\n  var handleItemDataOnPress = function handleItemDataOnPress(articleData) {\n    setModalVisible(true);\n    setModalArticleData(articleData);\n  };\n  var handleModalClose = function handleModalClose() {\n    setModalVisible(false);\n    setModalArticleData({});\n  };\n  useEffect(function () {\n    var fetchData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var articlesData = yield getArticles();\n          setIsLoading(false);\n          setData(articlesData);\n        } catch (error) {\n          console.error('Error fetching articles:', error);\n          setIsLoading(false);\n        }\n      });\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, []);\n  var view = isLoading ? _jsxs(View, {\n    style: styles.loadingContainer,\n    children: [_jsx(ActivityIndicator, {\n      animating: isLoading,\n      color: \"#00f0ff\"\n    }), _jsx(Text, {\n      style: styles.loadingText,\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430..\"\n    })]\n  }) : _jsx(ScrollView, {\n    children: data && data.map(function (item, index) {\n      return _jsx(DataItem, {\n        onPress: handleItemDataOnPress,\n        data: item\n      }, index);\n    })\n  });\n  console.log(data);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"\\u041D\\u041E\\u0412\\u041E\\u0421\\u0422\\u0418 \"\n    }), view, _jsx(Modal, {\n      showModal: modalVisible,\n      articleData: modalArticleData,\n      onClose: handleModalClose\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    paddingHorizontal: 10,\n    paddingTop: 20\n  },\n  loadingContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loadingText: {\n    marginTop: 10\n  },\n  title: {\n    marginTop: 50,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    textAlign: 'center'\n  }\n});\nexport default NewsScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ActivityIndicator","ScrollView","getArticles","DataItem","Modal","jsx","_jsx","jsxs","_jsxs","NewsScreen","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","data","setData","_useState5","_useState6","modalVisible","setModalVisible","_useState7","_useState8","modalArticleData","setModalArticleData","handleItemDataOnPress","articleData","handleModalClose","fetchData","_ref","_asyncToGenerator","articlesData","error","console","apply","arguments","view","style","styles","loadingContainer","children","animating","color","loadingText","map","item","index","onPress","log","container","title","showModal","onClose","create","flex","backgroundColor","paddingHorizontal","paddingTop","alignItems","justifyContent","marginTop","fontSize","fontWeight","marginBottom","textAlign"],"sources":["C:/Users/Meruem/Desktop/diplom_project/screens/main/NewsScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, StyleSheet, ActivityIndicator, ScrollView } from \"react-native\";\r\nimport { getArticles } from '../../screens/service/news';\r\nimport DataItem from '../../components/DataItem';\r\nimport Modal from '../../components/Modal';\r\n\r\nconst NewsScreen = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [modalArticleData, setModalArticleData] = useState({});\r\n\r\n  const handleItemDataOnPress = (articleData) => {\r\n    setModalVisible(true);\r\n    setModalArticleData(articleData);\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setModalVisible(false);\r\n    setModalArticleData({});\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const articlesData = await getArticles();\r\n        setIsLoading(false);\r\n        setData(articlesData);\r\n      } catch (error) {\r\n        console.error('Error fetching articles:', error);\r\n        setIsLoading(false);\r\n        // Handle error display\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  let view = isLoading ? (\r\n    <View style={styles.loadingContainer}>\r\n      <ActivityIndicator animating={isLoading} color=\"#00f0ff\" />\r\n      <Text style={styles.loadingText}>Загрузка..</Text>\r\n    </View>\r\n  ) : (\r\n    <ScrollView>\r\n      {data && data.map((item, index) => (\r\n        <DataItem key={index} onPress={handleItemDataOnPress} data={item} />\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n  console.log(data)\r\n  return (\r\n    \r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>НОВОСТИ </Text>\r\n      {view}\r\n      <Modal \r\n        showModal={modalVisible}\r\n        articleData={modalArticleData}\r\n        onClose={handleModalClose}\r\n      />\r\n    </View>\r\n    \r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    paddingHorizontal: 10,\r\n    paddingTop: 20,\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n  },\r\n  title: {\r\n    marginTop:50,\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default NewsScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}